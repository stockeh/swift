# @package _global_
defaults:
  - /data: era5-eagle-1.4
  - /model: swinv2
  - /loss: edm
  - /precond: edm
  - /solver: edm
  - override /optimizer: adamw

model:
  window_size: [16, 16]
  shift_size: [8, 8]
  patch_size: [2, 2]
  depth: 16
  dim: 1056
  heads: 16

data:
  batch_size: 3
  data_workers: 4
  val_local_batch_size: 1

trainer:
  total_kimg: 20000 # 20 mimg
  ema_halflife_kimg: 500
  lr_rampup_kimg: 5000 # 5 mimg
  lr_min_factor: 0.05
  kimg_per_tick: 10
  checkpoint_ticks: 200
  val_ticks: 100
  val_target_interval: 12

experiment_name: era5-swinv2-1.4-edm